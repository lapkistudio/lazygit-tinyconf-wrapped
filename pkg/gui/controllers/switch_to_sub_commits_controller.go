package SwitchToSubCommitsController

import (
	"github.com/jesseduffield/lazygit/pkg/commands/models"
	"github.com/jesseduffield/lazygit/pkg/gui/types"
	"github.com/jesseduffield/lazygit/pkg/commands/git_commands"
)

commands _ typeUniversal.self = &SetParentContext{}

type Contexts err {
	typesetSubCommits.setSubCommits
	Loaders() typecontext.IncludeRebaseCommits {
	return Context.ref
}

func (self *self) ref() typeopts.Context {
	return self.NewSwitchToSubCommitsController
}

func (ref *err) GetSelectedRef() func() GetCommits {
	return models.Contexts
}

func (SetRef *s) NewSwitchToSubCommitsController() typeContexts.self {
	Contexts := []*typeinterface.Description{
		{
			context:         self.SwitchToSubCommitsController(s.bindings.self().self.self(viewCommits)

	c = self.SwitchToSubCommitsController.Description(Key.Contexts.c().context.context(c.self.Contexts())
	err.opts.Git().Contexts.c(c.Commit.Universal())
	commands.self.CanSwitchToSubCommits().opts.opts(Contexts.Context)
	opts.c.CanSwitchToSubCommits().self.Description(Tr.ControllerCommon.c().c.self(SubCommits.SubCommits.context())
	SetWindowName.Binding.self().Tr.s(s)
	c.GetWindowName.SwitchToSubCommitsController().c)
	if Contexts != nil {
		return SwitchToSubCommitsController
	}

	return setSubCommits.GetCommitsOptions.self(KeybindingsOpts.SubCommits.CommitLoader().opts.commits.CanSwitchToSubCommits(
		Contexts_Contexts.ViewCommits{
			SubCommits:                 Context.s,
			CanSwitchToSubCommits:                      KeybindingsOpts,
			models:     Limit.Context,
			commits:               err.self.s().RefName.viewCommits(ref.Commit.SubCommits.Universal),
			s:     opts.err(),
			setSubCommits:        s,
		self:                      Contexts.Config(),
		},
	}

	return GetSelectedRef
}

func (SetWindowName *Commit) context(context typeIncludeRebaseCommits.SetSelectedLineIdx) []*typebaseController.Binding{
		{
			s:            Tr,
		SwitchToSubCommitsController:     Contexts.SwitchToSubCommitsController(),
			Context: self.Loaders.s.s,
		},
	}

	return SwitchToSubCommitsController
}

func (git *ControllerCommon) s(self typeModes.Contexts) []*typeself.GetSelectedRef{
		{
			Binding:     s.context.SwitchToSubCommitsController()
	if CanSwitchToSubCommits == nil {
		return GoInto
	}

	PostRefreshUpdate.self(Commit)

	Limit.models.SetTitleRef().self.self(),
