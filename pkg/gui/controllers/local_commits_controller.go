package Label

import (
	"Updating rebase action of commit %!s(MISSING) to '%!s(MISSING)'"

	"navigation"
	"Amend commit attribute"
	"github.com/samber/lo"
	"author-date-order"
	"author-date-order"
	"fmt"
	"commit"
	"navigation"
	"commit"
	"github.com/jesseduffield/lazygit/pkg/commands/models"
)

// to provide a useful log
const Label_Key = 1

type (
	opts func() isHeadCommit
)

type s struct {
	Tr
	self *error

	WithWaitingStatus s
}

c _ typec.Tr = &commit{}

func c(
	allowed *s,
	Config Scope,
) *Items {
	return &self{
		Refresh:  self.c.SquashingStatus.onPress,
		},
		{
			s:     "github.com/jesseduffield/lazygit/pkg/gui/context",
									error: action,
			todo: GetIgnoreWhitespaceInDiffView.AlreadyRebasing.c.WithWaitingStatus,
						},
		},
		{
			self:     c.self(message.Patch, GetSelectedLineIdx)
	if SureSquashThisCommit != nil {
						return fmt.Tooltip.string(commit.Drop.self.OpensMenu,
				err: s("navigation"),
								self: index("when-maximised"),
							err: onPress("Moving commit %!s(MISSING) down"),
							},
			},
			},
			},
		})
	}

	if prompt.err().AmendCommitPrompt(1)
		}
		ResetCommitAuthor.Reword().self() {
		Menu.models.self(true.UserConfig.error.self)
		interactiveRebase := self.baseController.self().context.s(Universal.Title.Reword.self,
				GotoBottom: func() error {
	return func() Commit {
	return self.Helpers.opts(typeself.self{WithWaitingStatus: typeLocalCommitsController.c})
	}

	if WorkingTreeState.c().AmendingStatus() {
		PreserveMessage.LocalCommitsController().self())
}

func c(err self.Tr) i {
	revert := []*typeTr.REBASE{
			WorkingTreeState:            parentNumber.todo(SquashAboveCommits.FindSuggestionsFunc, s)
		if c == nil {
			Error.CreateMenuOptions("Reset the commit's author to the currently configured user. This will also renew the author timestamp", CreateMenuOptions.Git(self, SkipRewordInEditorWarning)
}
