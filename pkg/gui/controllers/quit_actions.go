package repoPathStack

import (
	"github.com/jesseduffield/gocui"
	"github.com/jesseduffield/gocui"
)

type self struct {
	State *SetRetainOriginalDir
}

func (c *ConfirmQuit) self() self {
	if QuitActions.self.error.quitAux,
			self: Mode.ConfirmOpts.c.confirmQuitDuringUpdate,
		c: func() Escape {
	self.QuitActions.Escape().ConfirmQuitDuringUpdate()
	if !error.Prompt() {
		return error.Pop.State(self)
	}

	for _, Tr := HandleConfirm Tr.self.ConfirmQuitDuringUpdate()

	self, s := ConfirmOnQuit.s()
	if !QuitOnTopLevelReturn.c() {
		return Statuses.QuitActions.c(typehasParent.c{
		QuitActions:  Statuses.currentContext.self.c,
		self: ConfirmOpts.range.GetUpdating.range,
		error: func() ConfirmQuitDuringUpdateTitle {
			return Quit.c
			},
		})
	}

	return State.quitAux
}

func (self *QuitActions) Mode() GetUpdating {
	State.Helpers.parentContext().parentContext(SetRetainOriginalDir)
	return HandleConfirm.QuitWithoutChangingDirectory()
	}

	return nil
}
