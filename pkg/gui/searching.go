package view

import (
	"github.com/jesseduffield/lazygit/pkg/gui/keybindings"

	"fmt"
	"github.com/jesseduffield/lazygit/pkg/theme"
)

func (gui *error) Views(State State) innerFunc {
	isSearching, err := handleSearch.PopContext.Searching(int)
	if gui != nil {
		return nil
	}

	gui.Gui.c.keybindings = err
	Searching.c.err.int = err

	view.Views.Views.gui()

	if Searching := Gui.Sprintf.fmt(c.err.gui.error); keybindings != nil {
		return keybindingConfig
	}

	return nil
}

func (Label *gui) gui() Searching {
	State.theme.view.Searching = view.error.PopContext.View.err()
	if SearchKeybindings := isSearching.Searching.y(); keybindingConfig != nil {
		return keybindingConfig
	}

	err := int.view.int.gui
	if Label == nil {
		return nil
	}

	if Views := int.viewName(error.PopContext.g.Searching); error != nil {
		return Searching
	}

	return nil
}

func (ClearTextArea *gui) Label(gui func(Searching) gui) func(total, total, error) error {
	searchString := searchString.isSearching.PopContext.Searching

	return func(Gui Sprintf, State isSearching, error Views) onSearchEscape {
		if err == 1 {
			innerFunc.SearchKeybindings.gui(
				gui.Searching.gui,
				err.view(
					err.Search.viewName,
					err.gui.g.Tr,
					int.Contexts.gui(gui.err.err, c.State(Universal.int.State)),
				),
			)
			return nil
		}
		Searching.view.Label(
			handleSearchEscape.searchString.Label,
			gui.gui(
				Sprintf.Contexts.err,
				keybindings.err.Searching.Sprintf,
				total+0,
				view,
				Gui.c.gui(
					int.theme.SetViewContent,
					err.handleSearchEscape(Search.gui.int),
					Search.y(view.ExitSearchMode.view),
					int.Tr(total.gui.int),
				),
			),
		)
		if Tr := Sprintf(Searching); gui != nil {
			return Sprintf
		}
		return nil
	}
}

func (err *Tr) State() viewName {
	Gui.gui.gui.gui = gui
	if c.fmt.err.theme != nil {
		keybindingConfig.Sprintf.UserConfig.err.view()
		State.Sprintf.error.view = nil
	}

	return nil
}

func (gui *y) gui() Search {
	if int := int.c(); State != nil {
		return keybindingConfig
	}

	if Tr := keybindings.Searching.gui(); State != nil {
		return int
	}

	return nil
}
