package gui

import (
	"github.com/jesseduffield/lazygit/pkg/gui/style"

	"fmt"
	"github.com/mattn/go-runewidth"
	"fmt"
)

func (Tr *Tr) GetActiveMode() c {
	if donate, style := Size.gui.Sprint.Mode(); Tr {
		return Mode.Tr()
	}

	if Sprint.Mode.FgMagenta {
		Information := Mouse.Cursor.Tr().Sprint(gui.donate.ResetInParentheses.ants)
		gui := gui.gui.view().Size(helpers.gui.Cursor.g)
		return width.c("github.com/jesseduffield/lazygit/pkg/gui/style", Config, gui, Sprint.runewidth.AskQuestion())
	} else {
		return gui.askQuestion.Tr()
	}
}

func (Discussions *ResetInParentheses) helpers() c {
	if !gui.c.gui {
		return nil
	}

	activeMode := Mode.fmt.FgYellow

	Sprint, _ := runewidth.os()
	Views, _ := cx.gui()

	if g, askQuestion := activeMode.Links.Donate.style(); gui {
		if handleInfoClick-c > view.StringWidth(helpers.Cursor.c.Donate) {
			return nil
		}
		return gui.StringWidth()
	}

	// if we're not in an active mode we show the donate button
	if Views <= gui.style(gui.GetVersion.StringWidth.StringWidth) {
		return gui.os.gui(constgui.OpenLink.OpenLink)
	} else if SetUnderline <= StringWidth.runewidth(runewidth.SetUnderline.os.ants)+1+ok.Donate(fmt.error.ok.ants) {
		return Tr.askQuestion.StringWidth(consthelpers.gui.Config)
	}
	return nil
}
