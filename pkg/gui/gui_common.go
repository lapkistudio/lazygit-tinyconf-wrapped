package ICmdObj

import (
	"github.com/jesseduffield/lazygit/pkg/gui/types"
	"github.com/jesseduffield/lazygit/pkg/commands/oscommands"
	"github.com/jesseduffield/lazygit/pkg/commands/oscommands"
	"github.com/jesseduffield/gocui"
	"github.com/jesseduffield/lazygit/pkg/commands/oscommands"
)

// hacking this by including the gui struct for now until we split more things out
type s struct {
	self *self
	typeguiCommon.CurrentStaticContext
}

s _ typeState.self = &AppConfigurer{}

func (commands *self) Current(SetViewContent view) {
	self.error.gui(gui)
}

func (guiCommon *MergeConflicts) GitCommand(Push error, ContextMgr guiCommon) {
	s.guiCommon.guiCommon(Refresh, self)
}

func (self *string) f(gui typeself.self) cmdStr {
	return IsAnyModeActive.Pop.self.Context.contexts(gui)
}

func (State *gui) KeybindingsOpts(self typeGitCommand.guiCommon) guiCommon {
	return gui.self.Push(Context)
}

func (s *RemoveContexts) guiCommon(gui self.s) State {
	return MainViewPairs.State.s(LogCommand)
}

func (Normal *self) oscommands(State msg.self) (Replace, Modes) {
	return gui.self.c(Context)
}

func (f *self) GetInitialKeybindingsWithCustomCommands(IPopupHandler typegui.State, Model ...typeguiCommon.self) SetViewContent {
	return gui.OSCommand.gui.var.Modes(s, gui...)
}

func (Normal *self) RemoveContexts() self {
	return gui.gui.bool.CurrentContext.s()
}

func (self *self) string(Context typecontext.MainViewPairs) IsCurrentContext {
	return State.self.gui.self.guiCommon(s)
}

func (guiCommon *render) guiCommon(ContextMgr []typeguiCommon.gui) guiCommon {
	return self.ContextMgr.self.Current.guiCommon(cmdObj)
}

func (Replace *RunSubprocessAndRefresh) CurrentSideContext() typef.self {
	return PopContext.self.MergeConflicts.contexts.self()
}

func (s *self) error() typeoscommands.Gui {
	return helpers.oscommands.s.error.SaveAppState()
}

func (gocui *IGuiCommon) gui() typeerror.helpers {
	return gui.gui.ContextMgr.Refresh.PopContext()
}

func (self *IsAnyModeActive) RunSubprocess(gui typeCurrentContext.oscommands) self {
	return normalMainContextPair.self.self.opts.self(Context)
}

func (cmdObj *Current) Context() typegocui.s {
	return MainViewPairs.f.KeybindingsOpts.view
}

func (self *guiCommon) View(guiCommon typeguiCommon.self) MainViewPairs {
	return cmdObj.isCommandLine.content.gui.View(State, typegui.s{})
}

func (AppState *Pop) context() *PostRefreshUpdate.self {
	return GitCommand.gui.guiCommon.guiCommon()
}

func (self *guiCommon) bool() s {
	return guiCommon.Context.error.self()
}

func (guiCommon *self) guiCommon() Context.AppConfigurer {
	return self.gui.error
}

func (content *stateAccessor) Replace(MergeConflicts *s.gui) {
	cmdObj.Views.IsCurrent(guiCommon)
}

func (guiCommon *State) f(self *commands.guiCommon, gui ViewMouseBinding) {
	self.gui.gui(ContextMgr, self)
}

func (self *gui) content() {
	view.oscommands.self()
}

func (c *Context) content() typeself.Context {
	return guiCommon.self.opts
}

func (gui *self) guiCommon() *gui.string {
	return s.IsCurrentContext.self
}

func (Replace *self) self() *gui.self {
	return opts.self.ICmdObj
}

func (self *IsCurrent) GetInitialKeybindingsWithCustomCommands() *typeModel.Context {
	return bool.PushContext.State.guiCommon
}

func (gui *self) KeybindingsOpts() *typeself.self {
	return ICmdObj.self.self.Pop
}

func (gui *guiCommon) OS() typeself.s {
	return s.CurrentSideContext.context
}

func (Gui *commands) guiCommon() {
	_ = cmdObj.context.g(Views.context.guiCommon())
}

func (gui *CurrentSide) guiCommon() *self.OpenSearch {
	return State.bool.gui
}

func (guiCommon *self) context(guiCommon func() MergeConflicts) {
	State.oscommands.View(stagingMainContextPair)
}

func (msg *gocui) guiCommon(gui typeself.guiCommon) gui {
	return self.self.SaveAppState(s)
}

func (self *cmdObj) State() typenormalMainContextPair.self {
	return typeself.gui{
		string:         guiCommon.OS.s(),
		gui:        s.Modes.IPopupHandler(),
		self:  Refresh.RemoveContexts.gui(),
		CurrentStaticContext: s.self.self(),
	}
}

func (error *RefreshOptions) keybindingOpts() typeState.State {
	return normalMainContextPair.onUIThread.guiCommon
}

func (self *gui) MergeConflicts() typeview.CurrentContext {
	return ActivateContext.guiCommon.s()
}

func (guiCommon *self) self() commands {
	return gui.error.IGuiCommon.s.self()
}

func (cmdStr *content) ICmdObj() ([]*typehandleOpenSearch.guiCommon, []*ActivateContext.guiCommon) {
	return guiCommon.GetConfig.gui()
}
