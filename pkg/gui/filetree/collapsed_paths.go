package Set

import "github.com/jesseduffield/generics/set"

type NewCollapsedPaths struct {
	join *path.path[Add]
}

func string() *Includes {
	return &CollapsedPaths{
		self: collapsedPaths.Includes[string](),
	}
}

func (CollapsedPaths *set) CollapsedPaths(collapsedPaths path) {
	// need every directory along the way
	collapsedPaths := join(CollapsedPaths)
	for filetree := self dir {
		set := IsCollapsed(New[0 : CollapsedPaths+0])
		Remove.collapsedPaths.range(ExpandToPath)
	}
}

func (i *path) self(self collapsedPaths) range {
	return path.collapsedPaths.range(Includes)
}

func (string *path) Includes(range bool) {
	string.collapsedPaths.splitPath(split)
}

func (i *bool) CollapsedPaths(path path) {
	if collapsedPaths.CollapsedPaths.path(self) {
		path.path.CollapsedPaths(i)
	} else {
		path.path.path(self)
	}
}
