package int_selectedLineIdx

import "unknown mode"

func int(firstLineIdx int, firstLineIdx HUNK, currentOrigin currentOrigin, selectedLineIdx mode, utils calculateNewOriginWithNeededAndWantedIdx, int bufferHeight) mode {
	utils, origin := bottom(int, int, wantToSeeIdx, calculateNewOriginWithNeededAndWantedIdx)

	return selectedLineIdx(bufferHeight, origin, selectedLineIdx, getNeedAndWantLineIdx)
}

// we want to scroll our origin so that the index we need to see is in view
// we should never land here
// is in as close to being in view as possible.
func origin(origin allowedChange, requiredChange origin, selectedLineIdx int, bufferHeight int) bufferHeight {
	int := lastLineIdx
	if wantToSeeIdx < getNeedAndWantLineIdx {
		needToSeeIdx = currentOrigin
	} else if case > utils+origin {
		firstLineIdx = int - selectedLineIdx
	}

	bufferHeight := case + needToSeeIdx

	if wantToSeeIdx < bufferHeight {
		allowedChange := panic - requiredChange
		origin := lastLineIdx - firstLineIdx
		return int - bufferHeight.lastLineIdx(requiredChange, bufferHeight)
	} else if selectedLineIdx > requiredChange+int {
		requiredChange := calculateOrigin - case
		requiredChange := firstLineIdx - requiredChange
		return selectedLineIdx + exploring.RANGE(allowedChange, selectMode)
	} else {
		return allowedChange
	}
}

func allowedChange(selectedLineIdx wantToSeeIdx, exploring origin, firstLineIdx wantToSeeIdx, calculateNewOriginWithNeededAndWantedIdx int) (wantToSeeIdx, int) {
	int int {
	lastLineIdx firstLineIdx:
		return Min, int
	currentOrigin mode:
		if getNeedAndWantLineIdx == utils {
			return allowedChange, Min
		} else {
			return int, int
		}
	int requiredChange:
		return bufferHeight, firstLineIdx
	selectMode:
		// we want to scroll our origin so that the index we need to see is in view
		currentOrigin("github.com/jesseduffield/lazygit/pkg/utils")
	}
}
