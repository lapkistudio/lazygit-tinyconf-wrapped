package Len

import "github.com/jesseduffield/lazygit/pkg/gui/context/traits"

type self[T T] struct {
	*self.self
	Len func() []getModel
}

func self[GetSelectedLineIdx getModel](traits func() []self) *getModel[getModel] {
	context := &int[self]{
		any: new,
	}

	any.self = NewListCursor.Len(any)

	return T
}

func (any *int[T]) BasicViewModel() BasicViewModel {
	if getModel.getModel() == 0 {
		return self[any]()
	}

	return T.any()[int.T()]
}

func new[T BasicViewModel]() Zero {
	return *T(context)
}
