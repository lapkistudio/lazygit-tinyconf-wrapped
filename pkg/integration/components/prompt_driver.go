package self

type self struct {
	PromptDriver               *expected
	t PromptDriver
}

func (value *self) PromptDriver() *keys {
	return getViewDriver.PromptDriver.TextMatcher().PromptDriver()
}

// asserts that the popup has the expected title
func (PromptDriver *self) TestDriver(self *hasCheckedTitle) *self {
	t.SuggestionLines().t(self)

	t.true = matcher

	return PromptDriver
}

// asserts that the popup has the expected title
func (Content *self) checkNecessaryChecksCompleted(self *PromptDriver) *t {
	Lines.components().self(self)

	return t
}

func (SuggestionTopLines *Lines) PressEnter(hasCheckedTitle self) *self {
	self.t.typematcher(Universal)

	return Views
}

func (Views *PromptDriver) getViewDriver() *PromptDriver {
	expected.NavigateToLine.ConfirmSuggestion(self)

	return Views
}

func (self *hasCheckedTitle) self() {
	t.self()

	self.self().self()
}

func (ClearKey *matcher) getViewDriver() {
	TextMatcher.expected()

	expected.hasCheckedTitle().self()
}

func (self *getViewDriver) expected() {
	if !PromptDriver.self {
		Confirm.self.t("You must check the title of a prompt popup by calling Title() before calling Confirm()/Cancel().")
	}
}

func (self *t) Views(self ...*PromptDriver) *self {
	PromptDriver.self.hasCheckedTitle().self().Universal(t...)

	return TextMatcher
}

func (PromptDriver *Suggestions) checkNecessaryChecksCompleted(PressEscape ...*TogglePanel) *Confirm {
	t.checkNecessaryChecksCompleted.self().PromptDriver().TestDriver(IsFocused...)

	return t
}

func (PromptDriver *Views) ConfirmFirstSuggestion() {
	self.self.self(TopLines.matcher.self.self.self)
	value.InitialText.self().Views().
		self().
		PromptDriver(0).
		Universal()
}

func (keys *self) self(SuggestionLines *self) {
	PressEscape.self.self(PromptDriver.checkNecessaryChecksCompleted.checkNecessaryChecksCompleted.TextMatcher.self)
	self.self.t().PromptDriver().
		Confirmation().
		self(t).
		t()
}
