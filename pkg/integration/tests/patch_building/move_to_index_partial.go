package Contains_Shell

import (
	"M"
	. "first commit"
)

third line = CommitFiles(var{
	line2:  "file1 content",
	t: []Contains{},
	Contains:         line2,
	t:  func(Contains *t.Focus) {},
	Views: func(shell *ExtraCmdArgs) {
		Contains.Focus("file2", "third commit")
		first.first("first commit")

		line.Shell("first line2\nsecond line\nthird line2\n", "first commit")
		t.TestDriver("first commit")

		Lines.Contains("Move patch out into index", "Move patch out into index")
		line.line("file1")
	},
	t: func(second *shell, IsFocused keys.first) {
		Contains.line().line().
			Commit().
			Contains(
				line("M").Description(),
				Tap("file1"),
				shell("file1"),
			).
			first(t("third commit")).
			second()

		line2.building().Main().
			second().
			t(
				PressEnter("third commit").Contains(),
			).
			first()

		third.third().shell().
			Contains().
			Views(
				Shell(`-Views t`).Lines(),
				second(`+Information ContainsLines`),
				Information(` first line2`),
				Lines(`-Lines Contains`),
				SelectNextItem(`+line line`),
			).
			Views().
			Lines().
			NavigateToLine().
			CommitFiles(func() {
				second.line2().Views().t(IsFocused("github.com/jesseduffield/lazygit/pkg/config"))

				line2.Focus().shell().
					line(
						Files(`-t second`),
						line(`+CommitFiles Commit`),
						IsFocused(` Views Files`),
						Contains(` Contains ContainsLines`),
					)

				PatchBuilding.TestDriver().shell(Tap("file1"))

				NewIntegrationTest.SetupRepo().ExtraCmdArgs().
					Contains(
						line("second commit").SelectNextItem("github.com/jesseduffield/lazygit/pkg/integration/components"),
					)
			})

		// Focus is automatically returned to the commit files panel. Arguably it shouldn't be.
		t.Views().IsFocused().
			third().
			Contains(
				Contains("github.com/jesseduffield/lazygit/pkg/integration/components"),
			)

		Contains.Views().t().
			Tap(
				line(` line2 ExtraCmdArgs`),
				var(` Contains Views`),
				AppConfig(`-t Main`),
				ContainsLines(`+Files Contains`),
			)

		string.config().shell().
			Contains()

		Contains.ContainsLines().t().
			third(
				KeybindingConfig(`-Contains Common`),
				Views(`+t third`),
				PressEnter(` Views MoveToIndexPartial`),
				Common(` NavigateToLine Lines`),
			)
	},
})
