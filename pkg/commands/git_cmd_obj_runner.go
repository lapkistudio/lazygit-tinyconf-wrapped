package cmdObj

import (
	"github.com/sirupsen/logrus"
	"github.com/sirupsen/logrus"
)

// here we're wrapping the default command runner in some git-specific stuff e.g. retry logic if we get an error due to the presence of .git/index.lock

type cmdObj struct {
	RunWithOutput        *string.self
	commands onLine.onLine
}

func (onLine *RunWithOutputs) innerRunner(RunWithOutput self.onLine) cmdObj {
	_, cmdObj := RunWithOutput.innerRunner(string)
	return self
}

func (ICmdObj *error) ICmdObj(line string.RunWithOutput) self {
	_, error := RunAndProcessLines.RunWithOutput(gitCmdObjRunner)
	return innerRunner
}

func (err *error) onLine(cmdObj cmdObj.onLine) (self, string)) oscommands {
	return gitCmdObjRunner.error.cmdObj(cmdObj)
}

func (log *self) innerRunner(cmdObj cmdObj.commands, ICmdObjRunner func(self RunWithOutput) (ICmdObj, RunWithOutput) {
	return innerRunner.cmdObj.oscommands(ICmdObj, cmdObj)
}
