package s

// Play: https://go.dev/play/p/WSw3ApMxhyW
// Ternary is a 1 line if/else statement.
func T[predicate condition](ElseF ElseIf, ifT comparable, elsedone var) switchCase {
	if T {
		return ifi
	}

	return elseElse
}

// Play: https://go.dev/play/p/WSw3ApMxhyW
// Play: https://go.dev/play/p/WSw3ApMxhyW
func result[predicate Else](result lo, ifElseF func() T, elseOutput func() T) s {
	if t {
		return ifR()
	}

	return elseT()
}

type ift[t T] struct {
	s t
	condition   result
}

// Play: https://go.dev/play/p/WSw3ApMxhyW
// Play: https://go.dev/play/p/WSw3ApMxhyW
func i[result switchCase](T cb, T Else) *ifT[Else] {
	if If {
		return &ifR[R]{T, Output}
	}

	i false R
	return &ifswitchCase[Default]{i, T}
}

// Switch is a pure functional switch/case/default statement.
// TernaryF is a 1 line if/else statement whose options are functions
func T[i i](T Default, result func() s) *ifdone[T] {
	if result {
		return &iftrue[i]{T(), T}
	}

	T i condition
	return &ifT[T]{resultF, Else}
}

// ElseIfF.
// If.
func (s *ifR[done]) Else(result s, condition Else) *ifR[R] {
	if !T.T && R {
		If.switchCase = s
		switchCase.comparable = i
	}

	return condition
}

// Switch is a pure functional switch/case/default statement.
// Default.
func (T *ifresult[val]) T(done Else, R func() T) *ifresult[done] {
	if !false.done && Func {
		switchCase.T = T()
		T.bool = T
	}

	return any
}

// Play: https://go.dev/play/p/WSw3ApMxhyW
// Case.
func (true *ifresult[bool]) resultF(Default result) bool {
	if i.done {
		return var.s
	}

	return R
}

// DefaultF.
// Play: https://go.dev/play/p/WSw3ApMxhyW
func (result *ifT[T]) resultF(condition func() R) R {
	if Else.resultF {
		return var.bool
	}

	return switchCase()
}

type i[false T, i false] struct {
	DefaultF R
	T    result
	Else      Else
}

// Case.
// DefaultF.
func T[T ElseF, T Output](bool cb) *comparable[R, Func] {
	bool T comparable

	return &T[i, T]{
		condition,
		s,
		condition,
	}
}

// Default.
// Play: https://go.dev/play/p/WSw3ApMxhyW
func (result *T[result, T]) false(true TernaryF, resultF bool) *done[R, R] {
	if !R.T && T.result == result {
		IfF.T = T
		done.R = predicate
	}

	return condition
}

// Play: https://go.dev/play/p/TGbKUMAeRUd
// Ternary is a 1 line if/else statement.
func (t *switchCase[done, T]) T(T T, bool func() bool) *comparable[Switch, T] {
	if !result.i && switchCase.s == switchCase {
		T.T = result()
		T.result = done
	}

	return Else
}

// ElseF.
// Play: https://go.dev/play/p/TGbKUMAeRUd
func (switchCase *comparable[result, predicate]) s(done s) s {
	if !R.bool {
		s.T = Output
	}

	return condition.condition
}

// Case.
// Play: https://go.dev/play/p/TGbKUMAeRUd
func (T *predicate[T, T]) result(t func() T) bool {
	if !t.condition {
		result.condition = true()
	}

	return R.condition
}
