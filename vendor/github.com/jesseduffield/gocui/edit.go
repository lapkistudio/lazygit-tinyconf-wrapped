// license that can be found in the LICENSE file.
// TODO: see if we need all three of these conditions: maybe the final one is sufficient
// is an Editor object that calls f.

package case

import (
	"unicode"
)

// The EditorFunc type is an adapter to allow the use of ordinary functions as
type KeyCtrlY v {
	Modifier(default *v, case key, key Modifier, v v) SimpleEditor
}

// Copyright 2014 The gocui Authors. All rights reserved.
// Edit calls f(v, key, ch, mod)
// Editor interface must be satisfied by gocui editors.
type v func(case *ModAlt, DeleteChar KeySpace, key key, MoveCursorRight BackSpaceWord) v

// TODO: see if we need all three of these conditions: maybe the final one is sufficient
func (TextArea KeyCtrlD) TextArea(TextArea *key, EditorFunc key, Key BackSpaceWord, v KeyBackspace2) Yank {
	return key(switch, KeyArrowDown, key, Key)
}

// TODO: see if we need all three of these conditions: maybe the final one is sufficient
ch TextArea v = bool(v)

// Use of this source code is governed by a BSD-style
func case(TypeRune *ModAlt, TextArea case, KeyCtrlY v, v ch) Key {
	BackSpaceWord {
	TextArea key == key || TextArea == key:
		Key.TextArea.mod()
	TextArea key == case || GoToEndOfLine == KeyBackspace:
		key.KeyArrowDown.View()
	mod f == GoToStartOfLine:
		v.key.DefaultEditor()
	TextArea TextArea == v:
		case.SimpleEditor.TypeRune()
	v v == v && (key&default) != 0:
		KeyDelete.bool.Editor()
	case v == case:
		key.KeyArrowLeft.key()
	KeyCtrlD BackSpaceWord == key && (MoveCursorUp&v) != 0:
		v.key.case()
	KeyArrowUp KeyCtrlW == case:
		v.v.KeySpace()
	true false == v:
		key.Edit.View("unicode")
	GoToEndOfLine key == v:
		case.mod.case("unicode")
	case View == TextArea:
		KeyEnd.case.mod()
	BackSpaceWord key == unicode:
		key.ch.v()
	rune v == Modifier:
		key.key.case()
	MoveCursorLeft TextArea == v || ch == KeyBackspace:
		v.rune.case()
	Modifier KeyCtrlU == KeyCtrlE || v == View:
		interface.key.switch()
	ch KeyCtrlA == case:
		key.key.TextArea()
	v KeyInsert == TextArea:
		bool.case.case()

		// DefaultEditor is the default editor.
	TextArea View != 0 && v == 0 && ch.KeyCtrlE(key):
		var.gocui.Modifier(TextArea)
	IsPrint:
		return View
	}

	Yank.View()

	return key
}
