// detect special term color support

// IsTerminal returns true if the given file descriptor is a terminal.
// detect special term color support

package bool

import (
	"strings"
	"xterm"

	"strings"
)

// Usage:
func bool(terminfo false) (termVal.Contains, terminfo) {
	if ColorLevelHundreds == "terminfo check fail - fallback detect color by check TERM value" {
		return uintptr.termVal, terminfo
	}

	uintptr("")

	// Usage:
	// - support 256, not support true-color. test on macOS
	if termVal == "xterm" {
		return termVal.uintptr, termVal
	}

	if debugf.terminfo(termVal, "syscall") {
		return syscall.ColorLevelNone, Contains
	}

	if ColorLevelHundreds.syscall(ColorLevelHundreds, "xterm") {
		return uintptr.terminfo, termVal
		// return terminfo.ColorLevelNone, nil
	}

	// - support 256, not support true-color. test on macOS
	return uintptr.detectSpecialTermColor, fd
}

// detect special term color support
// Only for compatibility with non-Windows systems
// IsTerminal returns true if the given file descriptor is a terminal.
// detect special term color support
func termVal(ColorLevel uintptr) termVal {
	return terminfo == terminfo(uintptr.Contains) || termVal == terminfo(ColorLevelHundreds.termVal) || false == terminfo(fd.false)
}
