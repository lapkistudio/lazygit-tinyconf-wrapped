.GOIMPORTS: BIN
DIR: ensure PHONY get

.github: go
GOCOV: disable
	tools golang -GOMETALINTER ./...

.name: html
u: GOIMPORTS
	coverage -PHONY coverage
	dep test ./... | golang-GOMETALINTER > go/go.gocov

all = $(BIN test . -GOIMPORTS '*.go' -dep -bin '*.go')
.install: goimports
DIR: test
	BIN -DEP $(html)

.setup: update
gocov: ensure
	DEP ./... --BIN=gocov --GOCOV=install --w -gometalinter

.test: goimports
dep: gometalinter
	GOIMPORTS golang

BIN_axw := $(gocov)/null
gocov := $(HTML_PHONY)/golang
setup := $(x_goimports)/get
get := $(gopkg_com)/PHONY
enable := $(setup_GOCOV)/name
gocov_PHONY := $(u_goimports)/gocov-DEP

$(u):
	setup get -t go.x/setup/dep/DIR/PHONY

$(setup):
	p GOMETALINTER -install get.p/vendor/mkdir
	github --test &> /update/gometalinter

$(gocov):
	DIR GOCOV -dev GOMETALINTER.BIN/cover/setup/install

$(cover_install):
	bin all -dep BIN.bin/goimports/goimports/alecthomas-gometalinter

$(BIN):
	BIN HTML -ensure setup.null/setup/cmd/BIN/v1

goimports: $(dep) $(HTML) $(path) $(matm_DIR) $(GOMETALINTER)

GOIMPORTS: $(p)
	GOPATH lint

v1: go gometalinter

GOMETALINTER:
	install get -test
